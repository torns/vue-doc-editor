(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{404:function(t,e,i){},405:function(t,e,i){},406:function(t,e,i){},407:function(t,e,i){},418:function(t,e,i){},421:function(t,e,i){},439:function(t,e,i){},440:function(t,e,i){},533:function(t,e,i){"use strict";i(404)},534:function(t,e,i){"use strict";i(405)},535:function(t,e,i){"use strict";i(406)},536:function(t,e,i){"use strict";i(407)},587:function(t,e,i){"use strict";i(418)},588:function(t,e,i){},593:function(t,e,i){"use strict";i(421)},598:function(t,e,i){"use strict";i(439)},599:function(t,e,i){"use strict";i(440)},618:function(t,e,i){"use strict";i.r(e),i.d(e,"DocEditor",(function(){return pt}));var n,r=i(357),o=i(35),a=(i(9),i(11),i(12),i(94),i(337),i(624)),c=i(625),u=i(615),s=i(349),l={props:{icon:{type:String,required:!0},title:{type:String,required:!0},action:{type:Function,required:!0},isActive:{type:[Function,Boolean],default:null}}},d=(i(533),i(25)),f={components:{MenuItem:Object(d.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"menu-item",class:{"is-active":this.isActive?this.isActive():null},attrs:{title:this.title},on:{click:this.action}},[e("i",{class:"ri-"+this.icon})])}),[],!1,null,"6a946892",null).exports},props:{editor:{type:Object,required:!0}},data:function(){var t=this;return{items:[{icon:"arrow-go-back-line",title:"撤销",action:function(){return t.editor.chain().focus().undo().run()}},{icon:"arrow-go-forward-line",title:"重做",action:function(){return t.editor.chain().focus().redo().run()}},{icon:"bold",title:"加粗",action:function(){return t.editor.chain().focus().toggleBold().run()},isActive:function(){return t.editor.isActive("bold")}},{icon:"underline",title:"下划线",action:function(){return t.editor.chain().focus().toggleUnderline().run()},isActive:function(){return t.editor.isActive("underline")}},{icon:"italic",title:"斜体",action:function(){return t.editor.chain().focus().toggleItalic().run()},isActive:function(){return t.editor.isActive("italic")}},{icon:"strikethrough",title:"删除线",action:function(){return t.editor.chain().focus().toggleStrike().run()},isActive:function(){return t.editor.isActive("strike")}},{icon:"code-view",title:"代码块",action:function(){return t.editor.chain().focus().toggleCode().run()},isActive:function(){return t.editor.isActive("code")}},{icon:"mark-pen-line",title:"高亮",action:function(){return t.editor.chain().focus().toggleHighlight().run()},isActive:function(){return t.editor.isActive("highlight")}},{icon:"align-left",title:"左对齐",action:function(){return t.editor.chain().focus().setTextAlign("left").run()},isActive:function(){return t.editor.isActive({textAlign:"left"})}},{icon:"align-center",title:"居中",action:function(){return t.editor.chain().focus().setTextAlign("center").run()},isActive:function(){return t.editor.isActive({textAlign:"center"})}},{icon:"align-right",title:"右对齐",action:function(){return t.editor.chain().focus().setTextAlign("right").run()},isActive:function(){return t.editor.isActive({textAlign:"right"})}},{icon:"align-justify",title:"两端对其",action:function(){return t.editor.chain().focus().setTextAlign("justify").run()},isActive:function(){return t.editor.isActive({textAlign:"justify"})}},{icon:"h-1",title:"一级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:1}).run()},isActive:function(){return t.editor.isActive("heading",{level:1})}},{icon:"h-2",title:"二级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:2}).run()},isActive:function(){return t.editor.isActive("heading",{level:2})}},{icon:"h-3",title:"三级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:3}).run()},isActive:function(){return t.editor.isActive("heading",{level:3})}},{icon:"h-4",title:"四级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:4}).run()},isActive:function(){return t.editor.isActive("heading",{level:4})}},{icon:"h-5",title:"五级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:5}).run()},isActive:function(){return t.editor.isActive("heading",{level:5})}},{icon:"h-6",title:"六级标题",action:function(){return t.editor.chain().focus().toggleHeading({level:6}).run()},isActive:function(){return t.editor.isActive("heading",{level:6})}},{icon:"paragraph",title:"段落",action:function(){return t.editor.chain().focus().setParagraph().run()},isActive:function(){return t.editor.isActive("paragraph")}},{icon:"list-unordered",title:"无需列表",action:function(){return t.editor.chain().focus().toggleBulletList().run()},isActive:function(){return t.editor.isActive("bulletList")}},{icon:"list-ordered",title:"有序列表",action:function(){return t.editor.chain().focus().toggleOrderedList().run()},isActive:function(){return t.editor.isActive("orderedList")}},{icon:"list-check-2",title:"任务列表",action:function(){return t.editor.chain().focus().toggleTaskList().run()},isActive:function(){return t.editor.isActive("taskList")}},{icon:"code-box-line",title:"代码",action:function(){return t.editor.chain().focus().toggleCodeBlock().run()},isActive:function(){return t.editor.isActive("codeBlock")}},{icon:"table-2",title:"表格",action:function(){return t.editor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},isActive:!1},{icon:"image-line",title:"图片",action:function(){var e=window.prompt("URL");e&&t.editor.chain().focus().setImage({src:e}).run()},isActive:!1},{icon:"links-fill",title:"A标签",action:function(){if(t.editor.isActive("link"))t.editor.chain().focus().unsetLink().run();else{var e=window.prompt("URL");t.editor.chain().focus().extendMarkRange("link").setLink({href:e}).run()}},isActive:function(){return t.editor.isActive("link")}},{icon:"draft-line",title:"签名",action:function(){t.editor.commands.insertContent('<drawing data-type="drawing"></drawing><br/>')},isActive:!1},{icon:"double-quotes-l",title:"引用",action:function(){return t.editor.chain().focus().toggleBlockquote().run()},isActive:function(){return t.editor.isActive("blockquote")}},{icon:"separator",title:"分割线",action:function(){return t.editor.chain().focus().setHorizontalRule().run()}},{icon:"text-wrap",title:"换行",action:function(){return t.editor.chain().focus().setHardBreak().run()}},{icon:"format-clear",title:"清理格式",action:function(){return t.editor.chain().focus().clearNodes().unsetAllMarks().run()}}]}}},v=(i(534),Object(d.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.items,(function(e,n){return["divider"===e.type?i("div",{key:n,staticClass:"divider"}):i("menu-item",t._b({key:n},"menu-item",e,!1))]}))],2)}),[],!1,null,"164195bc",null).exports),m=i(403),p=(i(72),{props:{icon:{type:String,required:!0},title:{type:String,required:!0},action:{type:Function,required:!0},isActive:{type:[Function,Boolean],default:null}}}),h=(i(535),Object(d.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"menu-item",class:{"is-active":this.isActive?this.isActive():null},attrs:{title:this.title},on:{click:this.action}},[e("i",{class:"ri-"+this.icon})])}),[],!1,null,"1522a74e",null).exports),g={props:["mark"],computed:{markStyle:function(t){return{color:"#fff"}}}},b=(i(536),Object(d.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"mark-item",style:{background:t.mark.color||"#4741b8"}},[i("div",{staticClass:"mark-item-content"},[i("div",{staticClass:"flex-row",staticStyle:{height:"1.5em","line-height":"1.5em","text-align":"center"}},[i("i",{class:"ri-star-line",staticStyle:{"margin-right":"0.4em"},style:t.markStyle}),t._v(" "),i("span",[t._v(t._s(t.mark.name&&t.mark.name.slice(0,3)||"未命名"))])]),t._v(" "),i("div",{staticClass:"flex-row j-sb",staticStyle:{"font-size":"0.4em"}},[i("span",{staticStyle:{"margin-right":"1em"}},[t._v(t._s(t.mark.defaultRead?"可读":"禁读"))]),t._v(" "),i("span",[t._v(t._s(t.mark.defaultWrite?"可写":"禁写"))])])])])}),[],!1,null,"5fa3f028",null).exports),w=i(537),k={components:(n={MenuItem:h,MarkItem:b},Object(m.a)(n,w.Dialog.name,w.Dialog),Object(m.a)(n,w.Button.name,w.Button),Object(m.a)(n,w.Form.name,w.Form),Object(m.a)(n,w.FormItem.name,w.FormItem),Object(m.a)(n,w.Input.name,w.Input),Object(m.a)(n,w.ColorPicker.name,w.ColorPicker),Object(m.a)(n,w.Switch.name,w.Switch),n),props:{editor:{type:Object,required:!0}},methods:{addMark:function(t){this.marks.push(Object(r.a)({},t))}},data:function(){var t=this;return{dialogFormVisible:!1,marks:[{name:"内容区",color:"rgba(184, 158, 65, 1)",defaultRead:!1,defaultWrite:!1},{name:"标题区",color:"rgba(67, 65, 184, 1)",defaultRead:!1,defaultWrite:!1},{name:"自定义区",color:"rgba(65, 184, 164, 1)",defaultRead:!1,defaultWrite:!1}],markform:{name:"",color:"#4741b8",defaultRead:!1,defaultWrite:!1},items:[{icon:"add-fill",title:"添加标记",isActive:function(){return!0},action:function(){return t.dialogFormVisible=!0}}]}}},A=(i(587),Object(d.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.items,(function(e){return[i("menu-item",t._b({key:e.title},"menu-item",e,!1))]})),t._v(" "),t._l(t.marks,(function(t){return[i("MarkItem",{key:t.title,attrs:{mark:t}})]})),t._v(" "),i("el-dialog",{attrs:{title:"添加标记",visible:t.dialogFormVisible,width:"400px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",[i("el-form",{ref:"form",attrs:{model:t.markform,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"标记名称"}},[i("el-input",{attrs:{size:"small",placeholder:"标记名称"},model:{value:t.markform.name,callback:function(e){t.$set(t.markform,"name",e)},expression:"markform.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标记颜色"}},[i("div",{staticStyle:{height:"40px","line-height":"40px"}},[i("el-color-picker",{attrs:{"show-alpha":"",size:"small"},model:{value:t.markform.color,callback:function(e){t.$set(t.markform,"color",e)},expression:"markform.color"}})],1)]),t._v(" "),i("el-form-item",{attrs:{label:"默认可读"}},[i("el-switch",{model:{value:t.markform.defaultRead,callback:function(e){t.$set(t.markform,"defaultRead",e)},expression:"markform.defaultRead"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"默认可写"}},[i("el-switch",{model:{value:t.markform.defaultWrite,callback:function(e){t.$set(t.markform,"defaultWrite",e)},expression:"markform.defaultWrite"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(){t.dialogFormVisible=!1,t.addMark(t.markform)}}},[t._v("确 定")])],1)])],2)}),[],!1,null,"cc9c0604",null).exports),y=(i(588),i(312)),x=y.c.create({name:"readdisable",defaultOptions:{HTMLAttributes:{id:null}},addAttributes:function(){return{id:null}},priority:1e3,parseHTML:function(){return[{tag:"readdisable"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["readdisable",Object(y.m)(this.options.HTMLAttributes,e),0]},addCommands:function(t){return{toggleReadDisable:function(t){return function(e){var i=e.commands;return e.editor.isActive("readdisable")?i.unsetMark("readdisable"):i.setMark("readdisable",{id:t})}}}}}),M=y.c.create({name:"writedisable",defaultOptions:{HTMLAttributes:{contenteditable:!1,id:null}},priority:1e3,addAttributes:function(){return{id:null}},parseHTML:function(){return[{tag:"writedisable"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["writedisable",Object(y.m)(this.options.HTMLAttributes,e),0]},addCommands:function(){return{toggleWriteDisable:function(t){return function(e){var i=e.commands,n=e.editor;e.tr;console.log(e);var r=n.isActive("writedisable");return console.log(r),r?i.unsetMark("writedisable"):i.setMark("writedisable",{id:t})}}}}}),O=y.c.create({name:"writeable",defaultOptions:{HTMLAttributes:{contenteditable:!0,id:null}},addAttributes:function(){return{id:null}},priority:1e3,parseHTML:function(){return[{tag:"writeable"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["writeable",Object(y.m)(this.options.HTMLAttributes,e),0]},addCommands:function(t){return{toggleWriteAble:function(t){return function(e){var i=e.commands;return e.editor.isActive("writeable")?i.unsetMark("writeable"):i.setMark("writeable",{id:t})}}}}}),_=y.c.create({name:"underline",defaultOptions:{HTMLAttributes:{}},parseHTML:function(){return[{tag:"underline"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["underline",Object(y.m)(this.options.HTMLAttributes,e),0]},addCommands:function(){return{toggleUnderline:function(){return function(t){return t.commands.toggleMark("underline")}}}}}),C=(i(70),i(26),i(589)),j=i(603),L=i(592),T=i.n(L),H={name:"Drawing",components:{NodeViewWrapper:s.c},props:{updateAttributes:{type:Function,required:!0},editor:{type:Object},node:{type:Object,required:!0}},data:function(){return{color:"#000",size:1,svg:null,path:null,points:[],drawing:!1,id:Object(C.v4)()}},methods:{onStartDrawing:function(t){this.drawing=!0,this.points=[],this.path=this.svg.append("path").data([this.points]).attr("id","id-".concat(this.id)).attr("stroke",this.color).attr("stroke-width",this.size);var e="mousedown"===t.type?"mousemove":"touchmove";this.svg.on(e,this.onMove)},onMove:function(t){t.preventDefault(),this.points.push(j.c(t)[0]),this.tick()},onEndDrawing:function(){this.svg.on("mousemove",null),this.svg.on("touchmove",null),this.drawing&&(this.drawing=!1,this.svg.select("#id-".concat(this.id)).remove(),this.id=Object(C.v4)())},simplifyPoints:function(t){return T()(t.map((function(t){return{x:t[0],y:t[1]}}))).map((function(t){return[t.x,t.y]}))},tick:function(){var t=this;requestAnimationFrame((function(){t.path.attr("d",(function(e){var i=j.b().curve(j.a)(e),n=t.node.attrs.lines.filter((function(e){return e.id!==t.id}));return t.updateAttributes({lines:[].concat(Object(o.a)(n),[{id:t.id,color:t.color,size:t.size,path:i}])}),i}))}))},clear:function(){this.updateAttributes({lines:[]})}},computed:{editable:function(t){return t.editor.options.editable},drawBox:function(t){return function(){return t.$refs.drawBox}},isFull:function(t){return function(t){var e;return"fixed"===(null==t||null===(e=t.style)||void 0===e?void 0:e.position)}},full:function(t){return function(t){t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.background="#fff",t.style.zIndex="99999"}},disableFull:function(t){return function(t){t.style.position="",t.style.top="",t.style.left="",t.style.width="",t.style.height="",t.style.background="",t.style.zIndex=""}}},mounted:function(){this.svg=j.d(this.$refs.canvas),this.editable&&this.svg.on("mousedown",this.onStartDrawing).on("mouseup",this.onEndDrawing).on("mouseleave",this.onEndDrawing).on("touchstart",this.onStartDrawing).on("touchend",this.onEndDrawing).on("touchleave",this.onEndDrawing)}},F=(i(593),Object(d.a)(H,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("node-view-wrapper",{staticClass:"doc-draw"},[i("div",{ref:"drawBox",class:["draw-box"]},[t.editable?i("div",{staticClass:"doc-draw-set-box"},[i("button",{staticClass:"pionter",on:{click:t.clear}},[t._v("重新签名")]),t._v(" "),i("button",{staticClass:"pionter",on:{click:function(e){t.isFull(t.drawBox())?t.disableFull(t.drawBox()):t.full(t.drawBox())}}},[t._v("\n        切换全屏\n      ")])]):t._e(),t._v(" "),i("svg",{ref:"canvas",style:{cursor:t.editable?"crosshair":"pointer"},attrs:{viewBox:"0 0 500 250"}},[t._l(t.node.attrs.lines,(function(e){return[e.id!==t.id?i("path",{key:e.id,attrs:{d:e.path,id:"id-"+e.id,stroke:e.color,"stroke-width":e.size}}):t._e()]}))],2)])])}),[],!1,null,null,null).exports),B=y.d.create({name:"drawing",group:"block",atom:!0,addAttributes:function(){return{lines:{default:[]}}},parseHTML:function(){return[{tag:'drawing[data-type="drawing"]'}]},renderHTML:function(t){var e=t.HTMLAttributes;return["drawing",Object(y.m)(e,{"data-type":"drawing"})]},addNodeView:function(){return Object(s.d)(F)}}),D=i(314),S=i(609);y.b.create({addProseMirrorPlugins:function(){var t;return[new D.d({view:function(e){var i=document.createElement("div");return i.draggable="true",i.classList.add("global-drag-handle"),i.addEventListener("dragstart",(function(t){return function(t,e){if(e.composing=!0,t.dataTransfer){var i=function(t,e){var i=e.posAtCoords(t),n=e.domAtPos(i.pos);for(n=n.node;n&&n.parentNode;){var r,o;if(null!==(r=n.parentNode)&&void 0!==r&&null!==(o=r.classList)&&void 0!==o&&o.contains("ProseMirror"))break;n=n.parentNode}if(n&&1===n.nodeType){var a=e.docView.nearestDesc(n,!0);if(a&&a!==e.docView)return a.posBefore}return null}({left:t.clientX+50,top:t.clientY},e);if(null!=i){var n;e.dispatch(e.state.tr.setSelection(D.c.create(e.state.doc,i)));var r=e.state.selection.content(),o=Object(S.a)(e,r),a=o.dom,c=o.text;t.dataTransfer.clearData(),t.dataTransfer.setData("text/html",a.innerHTML),t.dataTransfer.setData("text/plain",c);var u=document.querySelector(".ProseMirror-selectednode");null===(n=t.dataTransfer)||void 0===n||n.setDragImage(u,0,0),e.dragging={slice:r,move:!0}}}}(t,e)})),t=i,document.body.appendChild(t),{destroy:function(){var e;(e=t).parentNode.removeChild(e),t=null}}},props:{handleDrop:function(t,e,i,n){},handleDOMEvents:{mousemove:function(e,i){var n={left:i.clientX+28+50,top:i.clientY},r=e.posAtCoords(n);if(r){var o=e.domAtPos(null==r?void 0:r.pos);if(o){for(o=o.node;o&&o.parentNode;){var a,c;if(null!==(a=o.parentNode)&&void 0!==a&&null!==(c=a.classList)&&void 0!==c&&c.contains("ProseMirror"))break;o=o.parentNode}if(o instanceof Element){var u=window.getComputedStyle(o),s=parseInt(u.lineHeight,10),l=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:e.width}}(o),d=o.ownerDocument.defaultView;l.top+=d.pageYOffset+(s-24)/2+0,l.left+=d.pageXOffset,l.width="".concat(28,"px"),t.style.left="".concat(-28+l.left,"px"),t.style.top="".concat(l.top,"px")}}}}}}})]}});var E=i(447),I=i(448),R=i(428),U=i(429),P=i(430),$=i(431),q=i(377),N=i(432),W=i(433),z=i(378),V=i(434),J=i(450),X=i(436),Y=i(437),G=i(438),K=i(604),Q=U.a.extend({addAttributes:function(){var t;return Object(r.a)(Object(r.a)({},null===(t=this.parent)||void 0===t?void 0:t.call(this)),{},{backgroundColor:{default:null,parseHTML:function(t){return{backgroundColor:t.getAttribute("data-background-color")}},renderHTML:function(t){return{"data-background-color":t.backgroundColor,style:"background-color: ".concat(t.backgroundColor)}}}})}}),Z=[K.a,E.a.configure({resizable:!0,allowTableNodeSelection:!0}),B,x,M,O,_,V.a,R.a,P.a,$.a,q.a,Q,X.a,Y.a,z.a,N.a.configure({types:["heading","paragraph"]}),G.a.configure({limit:1e4}),W.a],tt=i(321),et=i(614),it=i(619),nt=i(605),rt=i(630),ot=i(626),at=i(608),ct=i(606),ut=i(607),st=new D.e("IDPlugin"),lt=y.b.create({name:"IDPlugin",addProseMirrorPlugins:function(){this.options;return[new D.d({key:st,props:{handleClickOn:function(t,e,i,n,r,o,a){}}})]}}),dt=et.a((function(t,e,i,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(t){return t},u=a.a(c);t((function(t){var a=new tt.d;t.indexdb=new ut.a(e,a),t.provider=new ct.a(i,e,a),t.provider.on("status",(function(e){t.status=e.status}));var c=new s.a(u({editable:r,extensions:[].concat(Object(o.a)(Z),[J.a.configure({provider:t.provider,user:n,onUpdate:function(e){return t.users=e,null}}),I.a.configure({document:a})]),onFocus:function(){t.focused=!0},onBlur:function(){t.focused=!1},content:""}));t.editor=c}))})),ft=et.a((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},r=a.a(n);t((function(t){var n=new s.a(r({editable:i,extensions:[].concat(Object(o.a)(Z),[lt]),onFocus:function(){t.focused=!0},onBlur:function(){t.focused=!1},content:e}));t.editor=n}))})),vt=function(t){return function(){var e=t.editor.state.tr;e.setMeta("preventUpdate",!0),t.editor.view.dispatch(e),t.$emit("update:content",t.editor.getJSON()),t.$emit("update:transaction",e)}};Promise.all([i.e(0),i.e(12)]).then(i.t.bind(null,616,7));var mt={props:{editorObj:"",headings:"",multiple:{type:[Boolean,Object],default:function(){return!1}},content:{type:[String,Object],default:""},editable:{type:[Boolean],default:!0}},computed:{that:function(t){return t},debug:function(){return a.a(console.log)},isMultiple:function(t){return(e=["wsurl","room","user"],it.a(nt.a(0),rt.a,ot.a(e),at.a))(t.multiple);var e},currentUser:function(t){var e,i,n;return{name:(null===(e=t.multiple)||void 0===e?void 0:e.user)||"游客",head:(null===(i=t.multiple)||void 0===i?void 0:i.head)||"",color:(n=["#958DF1","#F98181","#FBBC88","#FAF594","#70CFF8","#94FADB","#B9F18D"],n[Math.floor(Math.random()*n.length)])}},currentRoom:function(t){var e;return(null===(e=t.multiple)||void 0===e?void 0:e.room)||"测试房间"},currentWsUrl:function(t){var e;return(null===(e=t.multiple)||void 0===e?void 0:e.wsurl)||"测试房间"},multipleConfig:function(t){return[function(e){return e(t)}].concat(Object(o.a)(c.a(["currentRoom","currentWsUrl","currentUser","editable","debug"])(t)))},staticConfig:function(t){return[function(e){return e(t)}].concat(Object(o.a)(c.a(["content","editable","debug"])(t)))},createMultiple:function(t){return function(){return dt.apply(void 0,Object(o.a)(t.multipleConfig))}},createStatic:function(t){return function(){return ft.apply(void 0,Object(o.a)(t.staticConfig))}},createDocWorkFlow:function(t){var e=t.createMultiple,i=t.createStatic;return u.a((function(t){return t}),e,i)}},mounted:function(){this.createDocWorkFlow(this.isMultiple),this.editor.on("update",vt(this)),this.$nextTick(vt(this))},components:{EditorContent:s.b,MenuBar:v,MarkBar:A},data:function(){return{focused:!1,provider:null,indexdb:null,editor:null,users:[],status:"连接中"}},methods:{setName:function(){var t=(window.prompt("Name")||"").trim().substring(0,32);if(t)return this.updateCurrentUser({name:t})},updateCurrentUser:function(t){this.currentUser=Object(r.a)(Object(r.a)({},this.currentUser),t),this.editor.chain().focus().user(this.currentUser).run(),localStorage.setItem("currentUser",JSON.stringify(this.currentUser))}},beforeDestroy:function(){this.editor&&this.editor.destroy(),this.provider&&this.provider.destroy()}},pt=(i(598),i(599),Object(d.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"w-p-100 ediotr-container"},[i("div",{staticClass:"flex-al p-20 border-box al-start w-p-100 m-t-100"},[i("div",{staticClass:"w-p-100 fixed-header"},[i("div",{staticClass:"w-p-100 flex-al al-c bg-fff line-b p-10 border-box"},[t.editor&&t.editable?i("MenuBar",{staticClass:"editor__header",attrs:{editor:t.editor}}):t._e()],1),t._v(" "),i("div",{staticClass:"w-p-100 flex-al al-c bg-fff line-b p-10 border-box"},[t.editor&&t.editable?i("MarkBar",{staticClass:"editor__header",attrs:{editor:t.editor}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"doc-a4 m-b-20 m-l-20"},[(t.editor&&t.isMultiple,i("editor-content",{staticClass:"p-b-20",attrs:{editor:t.editor}}))],1)])])}),[],!1,null,"7d4ff09e",null).exports)}}]);